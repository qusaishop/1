<!DOCTYPE html>
<html dir="rtl" lang="ar">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Ù‚ØµÙŠ Ø³ØªÙˆØ± - ÙØ±ÙŠ ÙØ§ÙŠØ± (ØªÙ„Ù‚Ø§Ø¦ÙŠ)</title>
  <link rel="icon" href="emp.png" type="image/png">

  <!-- Ù…Ù†Ø¹ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±: ÙŠØ¹ÙŠØ¯ Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¥Ù† Ù„Ù… ØªÙƒÙ† Ø§Ù„Ù…Ù„Ø§Ø­Ø© Ù…Ù† Ø§Ù„Ø¯Ø§Ø®Ù„ -->
  <script>
    (function(){
      try{
        var nav = (performance.getEntriesByType && performance.getEntriesByType('navigation')) || [];
        var type = nav[0] ? nav[0].type : (performance.navigation ? (performance.navigation.type === 1 ? 'reload' : (performance.navigation.type === 2 ? 'back_forward' : '')) : '');
        var isReload = type === 'reload';
        var isBF = type === 'back_forward';
        var ok = sessionStorage.getItem('nav:fromHome') === '1';
        if (!ok && !isReload && !isBF) {
          sessionStorage.setItem('nav:redirectedFrom', location.pathname.split('/').pop());
          window.location.replace('index.html');
        } else if (ok) {
          sessionStorage.removeItem('nav:fromHome');
        }
      }catch(e){ /* ÙÙŠ Ø­Ø§Ù„ Ø§Ù„ÙØ´Ù„ Ø§Ù„ØµØ±ÙŠØ­ Ù†Ø¹ÙŠØ¯ Ù„Ù„ØªØ£ÙƒØ¯ */ window.location.replace('index.html'); }
    })();
  </script>

  <!-- ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø«ÙŠÙ… Ù…Ø¨ÙƒØ±Ù‹Ø§ Ù„ØªØ¬Ù†Ø¨ ÙˆÙ…ÙŠØ¶ Ø§Ù„Ù„ÙˆÙ† -->
  <script>
    (function () {
      var theme = 'dark';
      try {
        var t = localStorage.getItem('theme');
        if (!t) t = (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light';
        theme = (t === 'light') ? 'light' : 'dark';
      } catch (e) { theme = 'dark'; }
      document.documentElement.setAttribute('data-theme', theme);
      try {
        var metaCS = document.querySelector('meta[name="color-scheme"]');
        if (!metaCS) { metaCS = document.createElement('meta'); metaCS.name = 'color-scheme'; document.head.appendChild(metaCS); }
        metaCS.setAttribute('content', theme === 'dark' ? 'dark light' : 'light dark');
        var metaTC = document.querySelector('meta[name="theme-color"]');
        if (!metaTC) { metaTC = document.createElement('meta'); metaTC.name = 'theme-color'; document.head.appendChild(metaTC); }
        metaTC.setAttribute('content', theme === 'dark' ? '#0b1220' : '#f9f9f9');
      } catch(e){}
      var s = document.createElement('style');
      s.id = 'critical-theme';
      s.textContent = 'html{background:'+(theme==='dark'?'#0b1220':'#f9f9f9')+';color:'+(theme==='dark'?'#e6edf3':'#333')+'} body{background:inherit;color:inherit;margin:0}';
      document.head.appendChild(s);
    })();
  </script>
  <meta name="color-scheme" content="dark light">
  <meta name="theme-color" content="#0b1220">

  <!-- ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø³Ø¨Ù‚ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <link rel="preconnect" href="https://i.ibb.co" crossorigin>
  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>

  <!-- ØªØ­Ù…ÙŠÙ„ Ù…Ø³Ø¨Ù‚ Ù„ØµÙˆØ±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© -->
  <link rel="preload" as="image" href="https://i.ibb.co/m5HLhf1n/1756802404151-1.jpg">

  <!-- Turnstile -->
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>

  <!-- Ù„ÙˆØªÙŠ (ØºÙŠØ± Ø­Ø§Ø¬Ø²) -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js" async></script>

  <!-- CSS -->
  <link href="style1.css" rel="stylesheet"/>
  <link href="header.css" rel="stylesheet"/>

  <!-- Firebase SDKs (ÙƒÙ…Ø§ ÙƒØ§Ù† ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù‚Ø¨Ù„ Ø§Ù„Ù‡ÙŠØ¯Ø±) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

  <!-- Scripts: Ø§Ø¨Ø¯Ø£ Ø¨ØªÙ‡ÙŠØ¦Ø© Firebase Ø«Ù… Ø¨Ù‚ÙŠØ© Ø§Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª -->
  <script src="script1auto.js"></script>
  <script defer src="header.js"></script>
  <script defer src="scriptauto.js"></script>
  <script defer src="atff.js"></script>

  <!-- Ù„ÙˆØ¯Ø± Ø§Ù„ØµÙØ­Ø© -->
  <link rel="stylesheet" href="loader.css">
  <script src="loader.js" defer></script>

  <!-- Ø£ØµÙˆØ§Øª (Ø¨Ø¯ÙˆÙ† ØªØ­Ù…ÙŠÙ„ Ù…Ø³Ø¨Ù‚ Ø«Ù‚ÙŠÙ„) -->
  <audio id="toast-success-sound" preload="none" src="success.mp3"></audio>
  <audio id="toast-error-sound" preload="none" src="error.mp3"></audio>

  <style>
    /* Ø§ØªØ¬Ø§Ù‡ Ø¹Ø§Ù… Ù…Ø³Ø§Ø¹Ø¯ */
    .rtl { direction: rtl; text-align: right; unicode-bidi: embed; }


    /* ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ù„Ø®Øµ */
    #selected-amount-container {
      display: flex !important;
      flex-direction: column !important;
      align-items: center !important;
      text-align: center !important;
      margin:20px auto;max-width:400px;padding:20px;
      border:2px solid #007bff;border-radius:10px;background:#f9f9f9;font-weight:bold;
    }
    #selected-amount-container h2 { margin-bottom: 10px !important; }

    /* âœ… Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© RTL Ù…Ø¹ Ø¹Ø²Ù„ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© */
    #selected-amount-container .voucher{
      display:block !important;
      margin:0 auto !important;
      direction: rtl;
      text-align: right;
      unicode-bidi: isolate;
      font-weight: 700;
    }
    .voucher .line{ direction: rtl; text-align: right; margin: 10px 0; }
    .voucher .ltr{ direction: ltr; unicode-bidi: isolate; display:inline-block; white-space: nowrap; }
    .voucher .sep{ unicode-bidi: isolate; display:inline-block; padding: 0 .15rem; }
    .voucher .price{ white-space: nowrap; }

    /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª + ØªØºØ·ÙŠØ© "ØºÙŠØ± Ù…ØªÙˆÙØ±" */
    .offer-box { position: relative; cursor: pointer; }
    .offer-box.disabled { opacity: .4; cursor: not-allowed; }
    .offer-box .unavailable-badge{
      position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
      background:rgba(0,0,0,.35); color:#fff; font-weight:700; border-radius:12px;
    }

/* ====== Dark Mode for Free Fire page ====== */
body.dark-mode{ background:#0b1220; color:#e6edf3; }

/* Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
body.dark-mode .main-white-box{
  background:#0f172a !important;
  color:#e6edf3 !important;
  border:1px solid #334155 !important;
  box-shadow:0 8px 22px rgba(0,0,0,.35);
}

/* ØµÙ†Ø¯ÙˆÙ‚ Ù…ÙØ¹Ø±Ù‘Ù Ø§Ù„Ù„Ø§Ø¹Ø¨ */
body.dark-mode .player-id-box{
  background:#0f172a !important;
  border-color:#334155 !important;
  color:#e6edf3 !important;
}
body.dark-mode .player-id-box label{ color:#e6edf3 !important; }
body.dark-mode .player-id-box input{
  background:#0b1220 !important;
  color:#e6edf3 !important;
  border-color:#334155 !important;
}

/* ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø®ØªØ§Ø± */
body.dark-mode #selected-amount-container{
  background:#0f172a !important;
  border-color:#334155 !important;
  color:#ffffff !important;
}
body.dark-mode #selected-amount-container .voucher,
body.dark-mode #selected-amount-container .voucher .line,
body.dark-mode #selected-amount-container .voucher .price{
  color:#ffffff !important;
}

/* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø±ÙˆØ¶ */
body.dark-mode .offer-box{
  background:#101826 !important;
  border:1px solid #334155 !important;
  color:#e6edf3 !important;
}
body.dark-mode .offer-box span{ color:#e6edf3 !important; }
body.dark-mode .offer-box.selected{ outline:2px solid #38bdf8; }
body.dark-mode .offer-box.disabled .unavailable-badge{ background:rgba(0,0,0,.45); }

/* Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
body.dark-mode .section-title{ color:#7dd3fc !important; }

/* Ø²Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ */
body.dark-mode .send-button{
  background:#0369a1 !important;
  color:#e6edf3 !important;
}
body.dark-mode .send-button:hover{ background:#0ea5e9 !important; }

/* Ø§Ù„ØªÙˆØ³Øª */
body.dark-mode #toast{
  background:#0f172a !important;
  color:#e6edf3 !important;
}

/* Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© (Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø±Ù) */
body.dark-mode #popup > div{
  background:#111827 !important;
  color:#e6edf3 !important;
}

/* Ù…Ø­Ø§ÙƒØ§Ø© Ø´ÙŠÙ…Ø± Ø£Ø®ÙØª ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† Ø¥Ù† ÙˆÙØ¬Ø¯ */
body.dark-mode .offer-box.loading{ background:#162032 !important; }

/* === Ø§Ø¬Ø¹Ù„ Ø®Ù„ÙÙŠØ© Ù‚Ø³Ù… Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø±Ù†Ø§ Ù…Ø«Ù„ Ø§Ù„Ø®Ù„ÙÙŠØ§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ === */

/* ÙˆØ¶Ø¹ ÙØ§ØªØ­: Ù„ÙˆÙ† Ù…Ø³Ø·Ø­ Ù…Ø·Ø§Ø¨Ù‚ Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„ØµÙØ­Ø© */
.footer-icons{
  background: #f9f9f9 !important;  /* Ø¨Ø¯ÙŠÙ„ Ù„Ù„ØªØ¯Ø±Ù‘Ø¬ */
  border: 1px solid #e0e6f7;        /* Ù†ÙØ³ Ø­Ø¯ÙˆØ¯ Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„ÙØ§ØªØ­Ø© */
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

/* ØªØ¨Ø§ÙŠÙ† Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø³Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„ÙØ§ØªØ­Ø© */
.footer-title{
  color: #0b1220 !important;
}

/* ÙˆØ¶Ø¹ Ø¯Ø§ÙƒÙ†: Ù„ÙˆÙ† Ù…Ø³Ø·Ø­ Ù…Ø·Ø§Ø¨Ù‚ Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† */
body.dark-mode .footer-icons{
  background: #0f265a !important;   /* Ø¨Ø¯ÙŠÙ„ Ù„Ù„ØªØ¯Ø±Ù‘Ø¬ Ø§Ù„Ø¯Ø§ÙƒÙ† */
  border-color: #334155;
  box-shadow: 0 8px 22px rgba(0,0,0,0.35);
}

/* Ù†Øµ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† */
body.dark-mode .footer-title{
  color: #e6edf3 !important;
}
  </style> </head>
 <body>
  <div id="headerContainer"></div>
  <div id="sidebarContainer"></div>

  <div id="preloader">
  <div class="loader"></div>
</div>



  <!-- Toast -->
  <div id="toast" style="
    visibility: hidden;
    min-width: 250px;
    margin-left: -125px;
    background-color: #323232;
    color: #fff;
    text-align: center;
    border-radius: 12px;
    padding: 16px;
    position: fixed;
    z-index: 9999;
    left: 50%;
    bottom: 30px;
    font-size: 16px;
    box-shadow: 0px 2px 10px rgba(0,0,0,0.2);
    transition: visibility 0s, opacity 0.5s ease-in-out;
    opacity: 0;">
    <span id="toast-message"></span>
  </div>

  <form id="orderForm" novalidate>
    <div class="container">

      <div id="top-banner">
        <div class="banner-layer" id="banner1"></div>
        <div class="banner-layer" id="banner2"></div>
      </div>

<div class="player-id-box" style="
  max-width: 500px; margin: 20px auto; padding: 20px;
  border: 2px solid #007bff; border-radius: 10px; background-color: #f9f9f9;">
  
  <label for="player-id" style="font-size:16px; font-weight:bold; margin-bottom:10px; display:block;">
    Ù…Ø¹Ø±Ù Ø§Ù„Ù„Ø§Ø¹Ø¨ ğŸ®
    <i onclick="openPopup()" style="color:#007bff; cursor: pointer;" title="Ù…Ø¹Ø±Ù Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø©"></i>
  </label>
  
  <div class="input-group" style="display:flex;">
    <input id="player-id" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ø¹Ø±Ù Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù‡Ù†Ø§"
           style="flex:1; padding:12px; font-size:16px; border:1px solid #ccc; border-radius:8px 0 0 8px;" type="text" />
  </div>

  <!-- Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø£Ø³ÙÙ„ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ -->
  <p style="margin-top:8px; font-size:14px; color:#d9534f; font-weight:bold;">
  </p>
</div>


      <!-- Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© -->
      <div id="popup" onclick="closePopupOnOutsideClick(event)"
           style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:9999; justify-content:center; align-items:center;">
        <div onclick="event.stopPropagation()" style="position:relative; background:white; padding:10px; border-radius:10px; max-width:90%; max-height:90%;">
          <span onclick="closePopup()" style="position:absolute; top:5px; right:10px; font-size:32px; color:red; cursor:pointer;">Ã—</span>
          <img alt="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª" src="https://i.ibb.co/Xr0rms0C/ff.webp" style="max-width:100%; max-height:80vh; display:block; margin:auto;"/>
        </div>
      </div>

      
        <div id="myOffersContainer"></div>

        <div id="selected-amount-container" style="
          margin:20px auto; max-width:400px; padding:20px; text-align:center;
          border:2px solid #007bff; border-radius:10px; background-color:#f9f9f9; font-weight:bold;">
          <h2> Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ : </h2>
          <div class="voucher"><span id="selected-amount">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø±Ø¶ Ø´Ø­Ù†</span></div>
        </div>

        <!-- âœ… Turnstile -->
        <div class="cf-turnstile" data-sitekey="0x4AAAAAABuMTLzhZ91H8VE1" data-theme="light"></div>

        <button class="send-button" style="margin-top:20px; padding:10px 20px; font-size:18px; background:#007bff; color:#fff; border:none; border-radius:5px; cursor:pointer;" type="submit">Ø´Ø±Ø§Ø¡</button>
      </div>
    </div>

    <div style="height: 40px;"></div>
    <div id="footerContainer"></div>
  </form>

  <script>

    (function(){
  try{
    var saved = localStorage.getItem('theme');
    if(saved === 'dark'){
      document.body.classList.add('dark-mode');
      // Ù„Ùˆ Ø±ØºØ¨Øª ÙØ±Ø¶ Turnstile Ø¯Ø§ÙƒÙ†Ù‹Ø§ Ø¯ÙˆÙ…Ù‹Ø§:
      var t = document.querySelector('.cf-turnstile');
      if(t) t.setAttribute('data-theme','dark');
    }
  }catch(e){}
})();
  // ===== Footer =====
  const footer = document.createElement("footer");
  footer.className = "footer-icons";
  const footerTitle = document.createElement("h2");
  footerTitle.className = "footer-title";
  footerTitle.textContent = "Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø±Ù†Ø§ØŸ";
  footer.appendChild(footerTitle);
  const iconBoxesData = [
    { iconClass: "fas fa-shipping-fast shipping-icon", title: "Ø´Ø­Ù† Ø³Ø±ÙŠØ¹", desc: "ÙŠØªÙ…ÙŠØ² Ù…ØªØ¬Ø±Ù†Ø§ Ø¨Ø³Ø±Ø¹ØªÙ‡ Ø§Ù„ÙØ§Ø¦Ù‚Ø© Ø¨Ø§Ù„Ø´Ø­Ù† ÙØ¨Ù…Ø¬Ø±Ø¯ Ø£Ù† ØªØ·Ù„Ø¨ Ø³ÙŠØªÙ… Ø§Ù„Ø´Ø­Ù† Ù„Ùƒ Ù…Ø¨Ø§Ø´Ø±Ø©" },
    { iconClass: "fas fa-lock", title: "Ø¢Ù…Ù† 100%", desc: "Ø­Ù…Ø§ÙŠØ© ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª" },
    { iconClass: "fas fa-headset", title: "Ø¯Ø¹Ù… ÙÙ†ÙŠ Ù…Ø³ØªÙ…Ø±", desc: "Ø¯Ø¹Ù… ÙÙ†ÙŠ Ù…Ø³ØªÙ…Ø± Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©" },
    { iconClass: "fas fa-coins special-icon", title: "Ø§Ø³Ø¹Ø§Ø± Ù…Ù…ÙŠØ²Ø©", desc: "Ù†Ù‚Ø¯Ù… Ø§Ø³Ø¹Ø§Ø± Ø§Ù‚Ù„ Ù…Ù† Ø§Ø³Ø¹Ø§Ø± Ø§Ù„Ù„Ø¹Ø¨Ø©" },
    { iconClass: "fas fa-credit-card", title: "Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„Ø¯ÙØ¹", desc: "Ø·Ø±Ù‚ Ø¯ÙØ¹ Ø¹Ø¯ÙŠØ¯Ø©" },
    { iconClass: "fas fa-shield-alt", title: "Ø¶Ù…Ø§Ù† Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø­Ù†", desc: "Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ ÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ù…Ø¹ ØªØ¹ÙˆÙŠØ¶ ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØµÙˆÙ„ Ø§Ù„Ø´Ø­Ù†Ù‡" },
    { iconClass: "fas fa-sync-alt", title: "ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ø³ØªÙ…Ø±Ø©", desc: "Ù†Ù‚ÙˆÙ… Ø¨Ø­Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ" },
    { iconClass: "fas fa-tasks", title: "ØªØ¹Ù‚Ø¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª", desc: "ÙŠÙ…ÙƒÙ†Ùƒ Ø±Ø¤ÙŠØ© Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† ØªØ¨ÙˆÙŠØ¨ Ø·Ù„Ø¨Ø§ØªÙŠ" },
    { iconClass: "fas fa-undo", title: "Ø§Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨Ø§Øª", desc: "ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØºØ§Ø¡ Ø§ÙŠ Ø·Ù„Ø¨ Ù‚Ø¨Ù„ Ø§ØªÙ…Ø§Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ" },
    { iconClass: "fas fa-server", title: "ØªØ®Ø²ÙŠÙ† Ù„Ù„Ø·Ù„Ø¨Ø§Øª", desc: "ÙŠØªÙ… ÙˆØ¶Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ø³ÙŠØ±ÙØ±Ø§Øª Ù„Ø¹Ø¯Ù… ÙÙ‚Ø¯Ø§Ù†Ù‡Ø§ ØªØ­Øª Ø§ÙŠ Ø¶Ø±Ù" }
  ];
  iconBoxesData.forEach(({ iconClass, title, desc }) => {
    const box = document.createElement("div");
    box.className = "icon-box";
    const icon = document.createElement("i"); icon.className = iconClass; box.appendChild(icon);
    const h3 = document.createElement("h3"); h3.textContent = title; box.appendChild(h3);
    const p = document.createElement("p"); p.textContent = desc; box.appendChild(p);
    footer.appendChild(box);
  });

  // ===== Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø±ÙˆØ¶ =====
  function createOfferBox({ type, jewels, offer, imgSrc, imgAlt }) {
    const div = document.createElement("div");
    div.className = "offer-box";
    div.dataset.type = type;
    if (jewels) div.dataset.jewels = jewels;
    if (offer) div.dataset.offer = offer;
    div.onclick = function () { toggleOffer(this); };
    const img = document.createElement("img");
    img.src = imgSrc; img.alt = imgAlt;
    img.loading = 'lazy'; img.decoding = 'async'; img.setAttribute('fetchpriority','low');
    div.appendChild(img);
    const span = document.createElement("span"); span.textContent = jewels ? `${jewels} Ø¬ÙˆÙ‡Ø±Ø©` : offer; div.appendChild(span);
    return div;
  }

  const offersBox = document.createElement("div"); offersBox.className = "offers-box";
  const label = document.createElement("label"); label.textContent = "Ø§Ø®ØªØ± Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø­Ù† ğŸ"; offersBox.appendChild(label);
  const topupOffers = [
    { jewels: 110, imgSrc: "https://i.ibb.co/m5HLhf1n/1756802404151-1.jpg", imgAlt: "620" },
    { jewels: 210, imgSrc: "https://i.ibb.co/m5HLhf1n/1756802404151-1.jpg", imgAlt: "340 ØªÙˆÙƒÙ†Ø²" },
    { jewels: 583, imgSrc: "https://i.ibb.co/m5HLhf1n/1756802404151-1.jpg", imgAlt: "570 ØªÙˆÙƒÙ†Ø²" },
    { jewels: 1188, imgSrc: "https://i.ibb.co/m5HLhf1n/1756802404151-1.jpg", imgAlt: "1024 ØªÙˆÙƒÙ†Ø²" },
    { jewels: 2420, imgSrc: "https://i.ibb.co/m5HLhf1n/1756802404151-1.jpg", imgAlt: "20000 ØªÙˆÙƒÙ†Ø²" }
  ];
  topupOffers.forEach(offer => { offersBox.appendChild(createOfferBox({ type: "topup", jewels: offer.jewels, imgSrc: offer.imgSrc, imgAlt: offer.imgAlt })); });
  const membershipOffersGrid = document.createElement("div"); membershipOffersGrid.id = "membership-offers"; membershipOffersGrid.className = "offers-grid"; membershipOffersGrid.style.justifyContent = "center";
  const membershipOffers = [

  ];
  membershipOffers.forEach(offer => { membershipOffersGrid.appendChild(createOfferBox({ type: "membership", offer: offer.offer, imgSrc: offer.imgSrc, imgAlt: offer.imgAlt })); });
  offersBox.appendChild(membershipOffersGrid);

  window.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById("myOffersContainer");
    if (container) container.appendChild(offersBox);
    // âœ… Ø§Ø±Ø¨Ø· Ø§Ù„ÙÙˆØ±Ù… Ø¨Ù€ sendOrder ÙˆÙ…Ù†Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
    const form = document.getElementById('orderForm');
    if (form) {
      form.addEventListener('submit', function(e){
        e.preventDefault();
        if (typeof sendOrder === 'function') sendOrder();
      });
    }
  });

  // ===== Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± ÙˆØ¹Ø±Ø¶Ù‡ =====
function toggleOffer(element) {
  if (element.classList.contains("disabled")) { 
    showToast("ØºÙŠØ± Ù…ØªÙˆÙØ±", "warning"); 
    return; 
  }

  // âœ… Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø®Ø±Ù‰
  document.querySelectorAll('.offer-box.selected').forEach(el => {
    el.classList.remove('selected');
  });

  // âœ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙ‚Ø·
  element.classList.add("selected");

  const selectedOffers = [{
    type: element.dataset.type,
    jewels: element.dataset.jewels || null,
    offerName: element.dataset.offer || null
  }];

  // âœ… Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù…Ù† localStorage
  const raw = JSON.parse(localStorage.getItem("offersPrices") || "{}");
  const offersPrices = raw.prices || raw;

  let total = 0; 
  const breakdownLines = [];
  const key = element.dataset.jewels ? `${element.dataset.jewels}_jewels` : element.dataset.offer;
  const price = offersPrices[key];
  if (price !== undefined) {
    total += Number(price);
const nameText  = element.dataset.jewels ? `${element.dataset.jewels} Ø¬ÙˆÙ‡Ø±Ø©` : element.dataset.offer;
const priceText = `${Number(price).toFixed(2)} Ø¯.Ø£`;
breakdownLines.push(
  `<span class="item-name">${nameText}</span> : <span class="item-price">${priceText}</span>`
);

  } else {
    breakdownLines.push(`â€¢ ${element.dataset.jewels || element.dataset.offer}: â“ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ`);
  }

const el = document.getElementById("selected-amount");

if (breakdownLines.length === 0) {
  // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£ÙŠ Ø¹Ù†ØµØ± Ù…Ø®ØªØ§Ø±
  el.textContent = "Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø±Ø¶ Ø´Ø­Ù†";
  el.classList.add("no-selection");
} else 
  // ÙŠÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± Ù…Ø®ØªØ§Ø±Ø©
  el.innerHTML = `${breakdownLines.join("<br>")}<br><br><strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total.toFixed(2)} Ø¯.Ø£</strong>`;
  el.classList.remove("no-selection");
}



  // ===== Toast =====
  function showToast(message, type = "info", duration = 4000) {
    const toast = document.getElementById("toast");
    const toastMessage = document.getElementById("toast-message");
    if (!toast || !toastMessage) return;
    let icon = type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : type === 'warning' ? 'âš ï¸' : 'â„¹ï¸';
    toastMessage.innerHTML = `<span style="margin-right:8px;">${icon}</span>${message}`;
    toast.style.background = type === 'success' ? 'linear-gradient(135deg, #28a745, #218838)'
                          : type === 'error'   ? 'linear-gradient(135deg, #dc3545, #b52a38)'
                          : type === 'warning' ? 'linear-gradient(135deg, #ffc107, #e0a800)'
                                               : 'linear-gradient(135deg, #17a2b8, #117a8b)';
    toast.style.color = '#fff'; toast.style.padding = '14px 20px'; toast.style.borderRadius = '10px';
    toast.style.fontSize = '16px'; toast.style.fontWeight = 'bold'; toast.style.boxShadow = '0 4px 15px rgba(0,0,0,0.3)';
    toast.style.display = 'flex'; toast.style.alignItems = 'center'; toast.style.gap = '10px';
    toast.style.transform = 'translateY(100px)'; toast.style.opacity = '0'; toast.style.visibility = 'visible'; toast.style.transition = 'all 0.5s ease';
    setTimeout(() => { toast.style.transform = 'translateY(0)'; toast.style.opacity = '1'; }, 50);
    setTimeout(() => { toast.style.transform = 'translateY(100px)'; toast.style.opacity = '0'; setTimeout(() => { toast.style.visibility = 'hidden'; }, 500); }, duration);
  }

  // ===== ØªÙ‡ÙŠØ¦Ø© Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªÙØ¹ÙŠÙ„/Ø§Ù„ØªØ¹Ø·ÙŠÙ„ Ù…Ù† Firestore =====
  firebase.auth().onAuthStateChanged(async (user) => {
    if (user) {
      const userDocRef = firebase.firestore().collection("users").doc(user.uid);
      const snap = await userDocRef.get();
      if (snap.exists) {
        const userData = snap.data();
        const nameInput = document.getElementById("userName");
        if (nameInput) {
          nameInput.value = userData.username || "";
          nameInput.readOnly = true;
          nameInput.style.backgroundColor = "#e9ecef";
          nameInput.style.cursor = "not-allowed";
        }
      }
    } else {
      location.href = "main.html";
    }
  });

  document.addEventListener("DOMContentLoaded", async () => {
    try {
      const stateDoc = await firebase.firestore().collection("freefireauto").doc("state").get();
      if (stateDoc.exists) {
        const stateData = stateDoc.data();
        Object.entries(stateData.topup || {}).forEach(([jewels, status]) => {
          const card = document.querySelector(`.offer-box[data-type="topup"][data-jewels="${jewels}"]`);
          if (card) { card.classList.toggle('disabled', status === 'off'); card.style.opacity = status === 'off' ? '0.4' : '1'; }
        });
        Object.entries(stateData.membership || {}).forEach(([offerName, status]) => {
          const card = document.querySelector(`.offer-box[data-type="membership"][data-offer="${offerName}"]`);
          if (card) { card.classList.toggle('disabled', status === 'off'); card.style.opacity = status === 'off' ? '0.4' : '1'; }
        });
      } else {
        console.warn("âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ÙˆØ«ÙŠÙ‚Ø© Ø§Ù„Ø­Ø§Ù„Ø© ÙÙŠ Firestore");
      }
    } catch (e) { console.error("âŒ ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶:", e); }
  });
  </script>
 </body>
</html>
